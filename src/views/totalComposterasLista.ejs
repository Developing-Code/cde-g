
  <style>
    .btn-verdeuaesp {
      color: #fff !important;
      background-color: #1da375 !important;
      border-color: #1da375;
    }

    .btn-verdeuaesp:hover {
      color: #fff !important;
      background-color: #1da375 !important;
      border-color: #1da375 !important;
    }

    .btn-naranjaab {
      color: #fff !important;
      background-color: #E9710C !important;
      border-color: #E9710C !important;
    }

    .btn-naranjaab:hover  {
      color: #fff !important;
      background-color: #E9710C !important;
      border-color: #E9710C !important;
    }
  </style>






  <%- include('./partials/nav.ejs') %>






    <div class="container-fluid " style="margin-top: 150px; text-align: center">
      <div>
        <div class="btn-group" role="group" aria-label="Basic example">


          <a type="button" class="btn btn-outline-success" style="margin-bottom: 2px;"
            href="/agregarNuevaCompostera">Crear
            nueva compostera <i class='bx bx-add-to-queue'></i></a>
          <a type="button" class="btn btn-outline-dark" style="margin-bottom: 2px;" href="/vistamapacomposteras">Vista
            Mapa <i class='bx bxs-map'></i></a>
          <a type="button" class="btn flex-column btn-verdeuaesp" style="margin-bottom: 2px;"
            href="/totalcomposteras"><i class='bx bxs-notepad'></i> Tarjeta</a>


        </div>
      </div>

      <br>

      <% if(role=='admin' || role=='supervisor' ){ %>

        <div class=" pt-2" hidden>
          <form action="/cronogramaBuscarTel" method="post">
            <div class="container">
              <div class="row">
                <div class="col-11">
                  <input class="form-control" type="text" name="BuscarTel" placeholder="Buscar por numero">

                </div>
                <div class="col-1">
                  <button class="btn btn-outline-dark" type="submit">Buscar</button>

                </div>
              </div>
            </div>
          </form>


        </div>
        <% }%>


          <% if ( role=='admin' || role=='supervisor' ) {%>
            <div class="container-fluid container" style="margin-top:100px">
              <div class="row">
                <table id="users" class="table table-light table-striped table-hover table-bordered text-center  "
                  style="font-size: 14px;">
                  <thead>
                    <tr>
                      <th>Código beneficiario</th>
                      <th>Responsable</th>
                      <th>Contacto</th>
                      <th>Dirección</th>
                      <th>Capacidad</th>
                      <th>Id usuario</th>
                      <th>Nota</th>
                      <th>Estado</th>
                      <th>Fecha entrega</th>
                      <th style="min-width: 100px;">Acciones</th>
                    </tr>
                  </thead>

                  <tbody>
                    <% results.forEach((data1)=> {%>


                      <tr>
                        <td>
                          <%= data1.codBenefic %>
                        </td>
                        <td>
                          <%= data1.nombre_responsable %>
                        </td>
                        <td>
                          <%= data1.celular_responsable %>
                        </td>
                        <td>
                          <%= data1.Direccion_compostera %>
                        </td>
                        <td>
                          <%= data1.Capacidad_compostera %>
                        </td>
                        <td>
                          <%= data1.id_usuario %>
                        </td>
                        <td>
                          <%= data1.Nota %>
                        </td>
                        <td>
                          <%= data1.estado %>
                        </td>
                        <td>
                          <%= data1.fecha_inicial %>
                        </td>
                        <td style="min-width: 100px;">
                          <a href="/perfilCompost/<%= data1.id %>" class="btn btn-sm btn-verdeuaesp" type="button"><i
                              class='bx bx-dots-vertical-rounded'></i></a>

                          <a href="/editCompostera/<%= data1.id %>" class="btn btn-sm btn-verdeuaesp" type="button"><i
                              class='bx bx-pencil'></i></a>
                          <!-- <a href="/registerUsersDelate/" class="btn btn-danger" type="button"><i class='bx bxs-trash' ></i></a> -->
                          <a onclick="alertDelate('<%= data1.id %>')" class="btn btn-sm btn-naranjaab" type="button"><i
                              class='bx bxs-trash'></i></a>
                        </td>
                      </tr>
                      <% }) %>
                  </tbody>
                </table>

              </div>
            </div>
            <% } %>











    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.min.js" defer></script>
    <script src="https://cdn.datatables.net/1.11.1/js/dataTables.bootstrap5.min.js" defer></script>
    <script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js" defer></script>
    <script src="https://cdn.datatables.net/responsive/2.2.9/js/responsive.bootstrap.min.js" defer></script>
    <script>
      $(document).ready(function () {
        var table = $('#users').DataTable({
          responsive: true,
          order: false
        });

        new $.fn.dataTable.FixedHeader(table);
      });

    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.5/dist/sweetalert2.all.min.js"></script>


    <script>
      function alertDelate(id) {
        Swal.fire({
          title: '¿Quieres eliminar este usuario?',
          icon: 'warning',
          showCancelButton: true,
          cancelButtonText: 'NO',
          cancelButtonColor: '#d33',
          confirmButtonColor: '#3085d6',
          confirmButtonText: ` SI `,
        }).then((result) => {
          /* Read more about isConfirmed, isDenied below */
          if (result.isConfirmed) {
            Swal.fire('Compostera eliminada exitosamente', '', 'success', 1500)
            const value = true
            setTimeout(timeUot, 2000, value, id);
          }
        })
      }
      function timeUot(values, id) {
        if (values) {
          window.location = '/delatecompostera/' + id
        }

      }
    </script>



    <%- include('./partials/footer.ejs') %>

      <script src="https://unpkg.com/boxicons@2.0.9/dist/boxicons.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>


</body>

</html>